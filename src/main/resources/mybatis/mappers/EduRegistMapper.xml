<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="co.kr.exitobiz.Mappers.WebApp.EduRegistMapper">

    <insert id="saveEduRegist" parameterType="HashMap">
        insert into itda_app.edu_regist_corp
            (corp_cd, user_id, title, corp_nm, sector, email, cret_dt)
        values (#{corp_cd}, #{user_id}, #{title}, #{corp_nm}, #{sector},#{email},now())
        on conflict(corp_cd, user_id, title)
        do update set
            corp_nm = #{corp_nm},
            sector = #{sector},
            email = #{email},
            updt_dt = now()
    </insert>

    <select id="chkRegist" parameterType="HashMap" resultType="HashMap">
        select count(*) as chk
        from itda_app.edu_regist_corp erc
        where corp_cd = #{corp_cd} and user_id = #{user_id} and title = #{title}
    </select>

</mapper>